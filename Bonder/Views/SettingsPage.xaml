<?xml version="1.0" encoding="utf-8" ?>
<ContentPage x:Class="Bonder.Views.SettingsPage"
             xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             BackgroundColor="{DynamicResource PrimaryBackground}"
             Title="Settings">

    <ScrollView>
        <VerticalStackLayout Spacing="0"
                             Padding="0">

            <!-- Theme Settings Section -->
            <VerticalStackLayout Spacing="0"
                                 Margin="0,20,0,0">
                <Label Text="Appearance"
                       FontSize="20"
                       FontFamily="OpenSansSemibold"
                       TextColor="{DynamicResource TextPrimary}"
                       Padding="20,0,20,16" />

                <Frame Padding="0"
                       Margin="16,0"
                       BackgroundColor="{DynamicResource CardBackground}"
                       CornerRadius="16">
                    <VerticalStackLayout Spacing="0">

                        <!-- Use System Theme -->
                        <Grid Padding="20,16"
                              ColumnDefinitions="*,Auto">
                            <VerticalStackLayout Grid.Column="0"
                                                 Spacing="4">
                                <Label Text="Use System Theme"
                                       FontSize="16"
                                       TextColor="{DynamicResource TextPrimary}" />
                                <Label Text="Follow system appearance settings"
                                       FontSize="13"
                                       TextColor="{DynamicResource TextSecondary}" />
                            </VerticalStackLayout>

                            <Switch Grid.Column="1"
                                    IsToggled="{Binding UseSystemTheme}"
                                    OnColor="{DynamicResource PrimaryAccent}"
                                    VerticalOptions="Center" />
                        </Grid>

                        <BoxView HeightRequest="1"
                                 BackgroundColor="{DynamicResource BorderColor}" />

                        <!-- Dark Mode Toggle -->
                        <Grid Padding="20,16"
                              ColumnDefinitions="*,Auto"
                              IsEnabled="{Binding UseSystemTheme, Converter={StaticResource InverseBoolConverter}}">
                            <VerticalStackLayout Grid.Column="0"
                                                 Spacing="4">
                                <Label Text="Dark Mode"
                                       FontSize="16"
                                       TextColor="{DynamicResource TextPrimary}" />
                                <Label Text="Use dark theme"
                                       FontSize="13"
                                       TextColor="{DynamicResource TextSecondary}" />
                            </VerticalStackLayout>

                            <Switch Grid.Column="1"
                                    IsToggled="{Binding IsDarkMode}"
                                    OnColor="{DynamicResource PrimaryAccent}"
                                    VerticalOptions="Center" />
                        </Grid>

                    </VerticalStackLayout>
                </Frame>
            </VerticalStackLayout>

            <!-- Account Section -->
            <VerticalStackLayout Spacing="0"
                                 Margin="0,32,0,0">
                <Label Text="Account"
                       FontSize="20"
                       FontFamily="OpenSansSemibold"
                       TextColor="{DynamicResource TextPrimary}"
                       Padding="20,0,20,16" />

                <Frame Padding="0"
                       Margin="16,0"
                       BackgroundColor="{DynamicResource CardBackground}"
                       CornerRadius="16">
                    <Button Text="Log Out"
                            BackgroundColor="Transparent"
                            TextColor="{DynamicResource Danger}"
                            FontSize="16"
                            Padding="20,16"
                            HorizontalOptions="Start"
                            Command="{Binding LogOutCommand}" />
                </Frame>
            </VerticalStackLayout>

        </VerticalStackLayout>
    </ScrollView>

</ContentPage>
